### **CS106L (2025 Spring) - 课程笔记**

**第一讲：欢迎来到 C++ 的世界 (Welcome to C++)**

**授课日期**: 2025年7月28日

#### **1. 课程开篇：一个“合法”的 C++ 程序**

本节课以一个极具冲击力的 C++ "Hello, world!" 程序开场。该程序的核心并非传统的 C++ 代码，而是通过 `asm` 关键字直接在 `main` 函数中嵌入了一段完整的**汇编语言 (Assembly Language)**。

*   **教学目的**:
    1.  **展示 C++ 的强大边界**: C++ 是一种能够深入底层、直接与硬件对话的语言。
    2.  **制造“震惊”效果**: 通过一个简单的任务（打印字符串）与一个极其复杂的实现形成巨大反差，引发学生的好奇与思考。旁边的“震惊仓鼠”表情包恰如其分地表达了初学者看到这段代码时的反应。
    3.  **引出核心议题**: 现代高级语言为我们屏蔽了多少底层的复杂性？

#### **2. C++ 的历史演进：从汇编到 C**

为了理解 C++ 为何存在，课程回顾了它的前辈。

*   **汇编语言 (Assembly)**:
    *   **优点**: 指令简单、运行速度极快（理论上）、对程序有完全的控制。
    *   **缺点**: 完成简单任务也需要大量代码、可读性极差、**极端不可移植 (Extremely unportable)**，为特定CPU和操作系统写的代码无法在其他平台上运行。

*   **C 语言的发明**:
    *   **核心优势**: C 语言是一种“薄抽象层”，它在提供便利的同时，保持了与底层硬件的高度接近。引用 Linux 创始人 Linus Torvalds 的名言：“当我在读 C 代码时，我就能知道它会被编译成什么样的汇编代码。”
    *   **暴露的弱点**: 随着软件规模的增大，C 语言的局限性凸显：
        1.  **没有对象或类 (No objects or classes)**：数据与操作数据的方法是分离的，难以管理大型项目。
        2.  **难以编写泛型代码 (Difficult to write generic code)**：缺乏模板机制，导致代码大量重复。
        3.  **编写大型程序非常繁琐 (Tedious to write large programs)**。

#### **3. C++ 的诞生与设计哲学**

C++ 的诞生正是为了解决 C 语言的上述痛点。

*   **创造者与目标**: 由丹麦计算机科学家**比雅尼·斯特劳斯特鲁普 (Bjarne Stroustrup)** 于1983年正式命名。他旨在创造一种集大成的语言，目标是：
    *   **Fast (快速)**: 继承 C/汇编的性能优势。
    *   **Simple to use (简单易用)**: 相对于汇编，并能更好地组织复杂程序。
    *   **Cross-platform (跨平台)**: 像 C 一样具备良好的可移植性。
    *   **Had high level features (拥有高级特性)**: 引入类、模板等来管理复杂性。

*   **C++ 核心设计哲学**:
    1.  **直接在代码中表达思想和意图**: 代码应自解释，如 `const` 关键字。
    2.  **尽可能在编译时强制保证安全**: 利用强类型系统在编译阶段发现错误。
    3.  **不浪费时间或空间 (零开销抽象原则)**: 不使用的特性不应有性能损耗。
    4.  **将混乱的结构进行封装隔离**: 用 `class` 等工具将底层复杂操作（如内存管理）包装在安全的接口背后（如 `std::vector`）。
    5.  **给予程序员完全的控制、责任和选择权**: C++ 信任程序员，但也要求程序员为自己的行为负责。

#### **4. C++ 的多面性：三种 “Hello, World”**

课程通过三个版本的 "Hello, World" 展示了 C++ 的多范式和多层次抽象能力，点明了本课程的核心方向。

1.  **汇编方式**: 直接嵌入 `asm`，代表 C++ 的底层控制能力。
2.  **C 语言方式**: 使用 `printf()`，代表 C++ 对 C 的血统继承和过程式编程能力。
3.  **现代 C++ 方式**: 使用 `std::cout`, `std::make_unique`, `std::string` 等。这**是本课程的教学重点**，它展示了现代 C++ 的核心特性：
    *   **智能指针 (Smart Pointers)**: `std::unique_ptr` 实现自动内存管理。
    *   **模板 (Templates)**: `<std::string>` 是泛型编程的体现。
    *   **流 (Streams)**: `std::cout` 是类型安全的 I/O 操作。
    *   **操作符重载 (Operator Overloading)**: `<<` 操作符让输出代码更自然。

#### **5. CS106L 课程概览与定位**

*   **课程大纲 (Topics We'll Cover)**:
    课程将遵循一条从基础到高级的清晰路径，涵盖**类型、引用、流、容器、迭代器、类、模板、函数与Lambda、操作符重载、移动语义**，并最终聚焦于现代C++的核心实践，如**RAII 设计模式**和**智能指针**。

*   **课程定位 (CS106B vs. CS106L)**:
    *   **CS106B (其他课程)**: 专注于**计算机科学理论概念**（如算法），C++ 只是一个**实现工具**，并使用简化的斯坦福库。
    *   **CS106L (本课程)**: 专注于 **C++ 语言本身和代码工艺**。目标是教授如何写出强大、优雅的**工业级代码**，将直接使用**标准模板库 (STL)**，并理解其背后的设计思想。这是一门小而精的 **1 学分**课程。

#### **6. 学习 C++ 的价值与思维塑造**

*   **C++ 帮助养成良好的编程习惯 (Good Coding Hygiene)**:
    C++ 的严格性会迫使程序员思考底层问题，从而内化为宝贵的编程习惯：
    1.  **类型安全**: 思考“我是否在按对象应有的方式使用它？”
    2.  **内存效率**: 思考“我是否在高效地使用内存？”（拷贝、引用还是移动？）
    3.  **数据可变性**: 思考“我是否修改了不该修改的东西？”（`const` 正确性）
    这些习惯在任何编程语言中都极具价值。

*   **编程语言界的“国际象棋大师”**:
    课程用一张生动的梗图（Magnus vs. Me）进行类比，将 **C++ 定位为编程语言中的马格努斯·卡尔森（世界棋王）**。这暗示 C++ 是一门专业、强大、富有深度和战略性的语言，精通它虽具挑战，但回报巨大，能让你成为更顶尖的开发者。

#### **7. 课堂文化与社区规范**

在强调了 C++ 的挑战性后，课程立即设定了积极、健康的学习环境。
*   **核心规范**:
    1.  **无羞辱区 (Shame-free zone)**: 鼓励大胆提问，不必害怕犯错。
    2.  **友善与尊重**: 建立互助的社区氛围。
    3.  **保持好奇心**: 探索“为什么”而不仅仅是“是什么”。
    4.  **沟通是关键**: 遇到困难要主动交流。
    5.  **认识到我们都在进步中**: 保持谦逊，避免完美主义，将学习视为一个持续迭代的过程。

---
**本节课总结**:
本节课从 C++ 的历史渊源、设计哲学到其在现代编程中的多面性，为我们描绘了一幅完整的画像。C++ 是一门追求极致性能、强调底层控制、并提供强大抽象工具的系统级语言。CS106L 这门课的定位是，在一个安全、互助的社区环境中，引导我们抛开教学辅助，直接拥抱工业标准的 STL，深入理解 C++ 的设计思想，最终掌握编写高质量现代 C++ 代码的“代码工艺”。